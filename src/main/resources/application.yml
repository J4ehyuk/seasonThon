spring:
  config:
    import: optional:file:.env

  application:
    name: seasonthon-docker

  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}

    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: update

    # JPA(ddl-auto)가 실행된 후 data.sql을 실행하도록 순서를 보장
    defer-datasource-initialization: true

    show-sql: true
    properties:
      hibernate:
        format_sql: true
    # 아래 줄은 삭제(자동 선택됨, 경고 방지)
    # database-platform: org.hibernate.dialect.MySQL8Dialect

  profiles:
    active: docker

  sql:
      init:
        mode: always
        data-locations: classpath:data.sql # 앱 실행 시, 초기 삽입 데이터

server:
  address: 0.0.0.0  # 모든 IP 주소에서 접속 허용
  port: ${SERVER_PORT:8080}  # 환경변수 SERVER_PORT가 있으면 그 포트, 없으면 8080 포트 사용


logging:
  level:
    org.springframework.security: DEBUG

openai:
  key: ${OPENAI_KEY}  # .env에서 불러옴

google:
  maps:
    api-key: ${GOOGLE_MAPS_API_KEY} # .env에서 불러옴
